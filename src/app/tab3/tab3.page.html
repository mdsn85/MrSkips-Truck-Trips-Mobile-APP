<ion-header>
  <ion-toolbar>
    <ion-grid>
      <ion-row>
        <ion-col size="4">
          <ion-title>
            Completed Trips
          </ion-title>
        </ion-col>
        <ion-col size="8">
          <ion-searchbar placeholder="Search" [(ngModel)]="searchQuery" (ionInput)="filterTrips($event)" ></ion-searchbar>
        </ion-col>

        
      </ion-row>
      <ion-row>

        <ion-col size="2"></ion-col>
        <ion-col size="4">
          <!--<ion-input [(ngModel)]="startDate" readonly (click)='openDatePicker($event)'></ion-input>-->
          <ion-datetime displayFormat="DD/MM/YYYY" (ionChange)="filterStartDateTrips($event)" [(ngModel)]="startDate"  placeholder="Select Start Date"></ion-datetime>    
      
        </ion-col>
        <ion-col size="4">
          <!--<ion-input [(ngModel)]="endDate" readonly (click)='openDatePickerEnd($event)'></ion-input>-->
          <ion-datetime displayFormat="DD/MM/YYYY" (ionChange)="filterEndDateTrips($event)" [(ngModel)]="endDate" placeholder="Select End Date"></ion-datetime>
        </ion-col>
      </ion-row>
    </ion-grid>
    
  </ion-toolbar>
</ion-header>

<ion-content>
    <ion-virtual-scroll [items]="trips" lines="none">
        <ion-card *virtualItem="let trip">
          <ion-grid>
            <ion-row>
              <ion-col size="5">
                <ion-card-title>{{ trip.Name }}</ion-card-title>
              </ion-col>
              <ion-col size="4">
                <ion-label>
                  Location: {{ trip.Location }}
                </ion-label>
              </ion-col>  
              <ion-col size="3">
                <ion-label>
                  Phone number: {{ trip.Telephone }}
                </ion-label>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size="3">
                <ion-label>
                  Tally: {{ trip.TallyCode}}
                </ion-label>
              </ion-col>
              <ion-col size="3">
                <ion-label>
                  Route: {{ trip.Route}}
                </ion-label>
              </ion-col>

              <ion-col size="3">
                <ion-label>
                  Do Num.: {{ trip.DoNum}}
                </ion-label>
              </ion-col>
            </ion-row>

                        
            <ion-row>
              <ion-col size="4">
                <ion-label>
                  Service: {{ trip.Service }}
                </ion-label>
              </ion-col>
              <ion-col size="3">
                <ion-label>
                  Ownership: {{ trip.Ownership }}
                </ion-label>
              </ion-col>
              <ion-col size="2">
                <ion-label>
                  Date: {{ trip.Date | date: 'dd/MMM/yyyy' }}
                </ion-label>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size="2">
                <ion-label>
                  Skips: {{ trip.Size }}
                </ion-label>
              </ion-col>

              <ion-col size="2">
                <ion-label>
                  # of skips: {{ trip.NumOfSkipsByContract }}
                </ion-label>
              </ion-col>

              <ion-col size="3">
                <ion-label>
                  skips Collected: {{ trip.numOfSkipsCollected }}
                </ion-label>
              </ion-col>
              <ion-col size="2">
                <ion-label>
                  Weight: {{ trip.weight }}
                </ion-label>
              </ion-col>


              <ion-col size="2">
                <ion-label>
                  Note: {{ trip.Note }}
                </ion-label>
              </ion-col>

            </ion-row>
            <ion-row *ngIf="false">
              <ion-col size="4" offset="4">
                <ion-button routerLink="/sign/{{ trip.Id }}" expand="full" margin shape="round">
                  Sign
                </ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card>
    </ion-virtual-scroll>
</ion-content>
